import{e as p,a as f,r,j as e,L as j,h as N,b as y,g as x}from"./index-BcJ69802.js";import{D as o}from"./DataCard-CrT-k-jq.js";import"./dialog-C86vlKxl.js";import{B as i}from"./input--Twqmmfi.js";import{A as g}from"./AvatarInitials-Jlrlvxv9.js";import{A as b}from"./arrow-left-B-DxceX4.js";import{M as C}from"./mail-Bx8gY5X2.js";import{P as w}from"./phone-D6gvJqiP.js";import{B as A}from"./building-Ct4UnlQw.js";import{C as P}from"./calendar-9vo-D3Vn.js";function _(){const{id:a}=p(),n=f(),[t,d]=r.useState(null),[c,m]=r.useState([]),[u,l]=r.useState(!0);return r.useEffect(()=>{a&&(async()=>{l(!0);try{const[v,h]=await Promise.all([x.get(`/crm/contacts/${a}`).catch(()=>({data:{data:null}})),x.get(`/crm/contacts/${a}/activities`).catch(()=>({data:{data:[]}}))]);d(v.data.data||{id:a||"1",customer_id:"1",name:"John Doe (Placeholder)",role:"Decision Maker",email:"john.doe@example.com",phone:"5551234567"}),m(h.data.data||[])}finally{l(!1)}})()},[a]),u?e.jsx(j,{variant:"detail"}):t?e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs(i,{variant:"ghost",onClick:()=>n(-1),className:"mb-4 text-[var(--nexus-text-secondary)]",children:[e.jsx(b,{className:"w-4 h-4 mr-2"})," Back"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"md:col-span-1 space-y-6",children:e.jsxs(o,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(g,{name:t.name,size:"lg"})}),e.jsx("h2",{className:"text-xl font-bold text-[var(--nexus-text-primary)]",children:t.name}),e.jsx("p",{className:"text-[var(--nexus-text-secondary)]",children:t.role}),e.jsxs("div",{className:"mt-8 space-y-4 text-left",children:[e.jsxs("div",{className:"flex items-center gap-3 text-[var(--nexus-text-secondary)]",children:[e.jsx(C,{className:"w-4 h-4 text-[var(--nexus-text-tertiary)]"}),e.jsx("span",{className:"text-sm font-medium",children:t.email})]}),e.jsxs("div",{className:"flex items-center gap-3 text-[var(--nexus-text-secondary)]",children:[e.jsx(w,{className:"w-4 h-4 text-[var(--nexus-text-tertiary)]"}),e.jsx("span",{className:"text-sm font-medium",children:N(t.phone)})]}),e.jsxs("div",{className:"flex items-center gap-3 text-[var(--nexus-text-secondary)]",children:[e.jsx(A,{className:"w-4 h-4 text-[var(--nexus-text-tertiary)]"}),e.jsx("button",{onClick:()=>n(`/crm/customers/${t.customer_id}`),className:"text-sm font-medium text-[var(--nexus-accent-primary)] hover:underline",children:"View Company"})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-[var(--nexus-divider)] flex gap-3",children:[e.jsx(i,{className:"flex-1 bg-[var(--nexus-button-bg)] text-white hover:bg-[var(--nexus-button-hover)]",children:"Email"}),e.jsx(i,{variant:"outline",className:"flex-1 border-[var(--nexus-card-border)] text-[var(--nexus-text-primary)] hover:bg-[var(--nexus-bg-secondary)]",children:"Call"})]})]})}),e.jsx("div",{className:"md:col-span-2 space-y-6",children:e.jsx(o,{title:"Activity History",children:e.jsx("div",{className:"space-y-6",children:c.length===0?e.jsx("div",{className:"text-center py-8 text-[var(--nexus-text-secondary)]",children:"No activities found."}):c.map(s=>e.jsxs("div",{className:"relative pl-6 border-l-2 border-[var(--nexus-divider)]",children:[e.jsx("div",{className:"absolute -left-[5px] top-1.5 w-2 h-2 rounded-full bg-[var(--nexus-accent-primary)]"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(P,{className:"w-5 h-5 text-[var(--nexus-text-tertiary)]"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-[var(--nexus-text-primary)]",children:s.description}),e.jsx("p",{className:"text-xs text-[var(--nexus-text-tertiary)] mt-1",children:y(s.date,"long")})]})]})]},s.id))})})})]})]}):e.jsx("div",{children:"Contact not found"})}export{_ as default};
