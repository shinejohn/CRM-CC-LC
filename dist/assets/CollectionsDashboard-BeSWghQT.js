import{j as e,f as t,T as x}from"./index-BcJ69802.js";import{P as v}from"./PageHeader-DpZdVOoR.js";import{D as i}from"./DataCard-CrT-k-jq.js";import{M as o}from"./MetricCard-CjdTriRj.js";import"./dialog-C86vlKxl.js";import"./input--Twqmmfi.js";import{a as p,u as g}from"./useBillingData-CrM5s-0T.js";import{D as b}from"./dollar-sign-Dm3x_983.js";import{T as h}from"./trending-up-DHCZe2ia.js";import{C as j}from"./calendar-9vo-D3Vn.js";function R(){const{metrics:l,isLoading:c}=p(),{invoices:d,isLoading:m}=g(),a=c||m,r=l||{total_outstanding:45e3,overdue_amount:12500,collection_rate:92.4,days_sales_outstanding:42},n=d.filter(s=>s.status==="overdue");return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsx(v,{title:"Collections & Accounts Receivable",subtitle:"Monitor outstanding balances, metrics, and overdue accounts."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(o,{label:"Total A/R",value:t(r.total_outstanding),icon:b,color:"blue",isLoading:a}),e.jsx(o,{label:"Overdue (30+ Days)",value:t(r.overdue_amount),icon:x,color:"red",isLoading:a}),e.jsx(o,{label:"Collection Rate",value:`${r.collection_rate}%`,icon:h,color:"emerald",isLoading:a}),e.jsx(o,{label:"DSO",value:`${r.days_sales_outstanding} Days`,icon:j,color:"purple",isLoading:a})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(i,{title:"Collection Priorities",isLoading:a,children:e.jsx("div",{className:"space-y-4",children:n.length===0&&!a?e.jsx("div",{className:"text-center py-8 text-[var(--nexus-text-secondary)]",children:"No overdue accounts. Great job!"}):n.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[var(--nexus-bg-secondary)] rounded-xl border border-[var(--nexus-card-border)] hover:border-red-200 dark:hover:border-red-900/50 transition-colors",children:[e.jsxs("div",{children:[e.jsx("a",{href:`/billing/invoices/${s.id}`,className:"font-bold text-[var(--nexus-text-primary)] hover:text-red-500 transition-colors cursor-pointer",children:s.customer_name}),e.jsxs("p",{className:"text-sm text-[var(--nexus-text-secondary)] mt-1",children:["INV-",s.id.substring(0,6)," â€¢ Due ",new Date(s.due_date).toLocaleDateString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-red-600 dark:text-red-400",children:t(s.amount)}),e.jsx("a",{href:`/billing/invoices/${s.id}`,className:"text-xs font-semibold text-[var(--nexus-accent-primary)] hover:underline mt-1 inline-block",children:"Review Account"})]})]},s.id))})}),e.jsx(i,{title:"A/R Aging Summary",isLoading:a,children:e.jsx("div",{className:"space-y-6",children:[{bracket:"0 - 30 Days",amount:25e3,percent:55},{bracket:"31 - 60 Days",amount:15e3,percent:33},{bracket:"61 - 90 Days",amount:4e3,percent:9},{bracket:"90+ Days",amount:1e3,percent:3}].map((s,u)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsx("span",{className:"font-medium text-[var(--nexus-text-secondary)]",children:s.bracket}),e.jsx("span",{className:"font-bold text-[var(--nexus-text-primary)]",children:t(s.amount)})]}),e.jsx("div",{className:"w-full h-2 bg-[var(--nexus-bg-secondary)] rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-[var(--nexus-accent-primary)] rounded-full",style:{width:`${s.percent}%`}})})]},u))})})]})]})}export{R as default};
