import{e as h,a as v,r as i,j as e,L as b,k as c,b as l,f as r,g as j}from"./index-BcJ69802.js";import{P as y}from"./PageHeader-DpZdVOoR.js";import{D as o}from"./DataCard-CrT-k-jq.js";import{S as f}from"./StatusBadge-BzDX3dmz.js";import"./dialog-C86vlKxl.js";import{B as a}from"./input--Twqmmfi.js";import{A as g}from"./arrow-left-B-DxceX4.js";import{D as N}from"./download-Dd4gqHEr.js";import{S as w}from"./send-vYsU2aHA.js";function A(){const{id:n}=h(),d=v(),[s,m]=i.useState(null),[u,x]=i.useState(!0);return i.useEffect(()=>{n&&(async()=>{x(!0);try{const p=await j.get(`/billing/invoices/${n}`).catch(()=>({data:{data:null}}));m(p.data.data||{id:n||"1",customer_id:"1",customer_name:"Acme Corp",amount:4500,status:"pending",issue_date:new Date().toISOString(),due_date:new Date(Date.now()+1296e6).toISOString(),items:[{id:"1",description:"Software License",quantity:1,unit_price:3e3,amount:3e3},{id:"2",description:"Implementation Services",quantity:10,unit_price:150,amount:1500}]})}finally{x(!1)}})()},[n]),u?e.jsx(b,{variant:"detail"}):s?e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs(a,{variant:"ghost",onClick:()=>d(-1),className:"text-[var(--nexus-text-secondary)] hover:bg-[var(--nexus-bg-secondary)]",children:[e.jsx(g,{className:"w-4 h-4 mr-2"})," Back"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(a,{variant:"outline",className:"text-[var(--nexus-text-primary)] border-[var(--nexus-card-border)] hover:bg-[var(--nexus-bg-secondary)]",children:[e.jsx(N,{className:"w-4 h-4 mr-2"})," PDF"]}),e.jsxs(a,{variant:"outline",className:"text-[var(--nexus-text-primary)] border-[var(--nexus-card-border)] hover:bg-[var(--nexus-bg-secondary)]",children:[e.jsx(w,{className:"w-4 h-4 mr-2"})," Send Reminder"]}),s.status!=="paid"&&e.jsxs(a,{className:"bg-[var(--nexus-button-bg)] text-white hover:bg-[var(--nexus-button-hover)] border-0",children:[e.jsx(c,{className:"w-4 h-4 mr-2"})," Record Payment"]})]})]}),e.jsx(y,{title:`Invoice INV-${s.id.substring(0,6)}`,breadcrumbs:[{label:"Billing",href:"/billing/collections"},{label:"Invoices",href:"/billing/invoices"},{label:`INV-${s.id.substring(0,6)}`}],actions:e.jsx(f,{status:s.status,size:"md"})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs(o,{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[var(--nexus-brand-primary)] opacity-5 rounded-bl-[100px] pointer-events-none"}),e.jsxs("div",{className:"flex justify-between items-start mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-[var(--nexus-text-primary)]",children:"INVOICE"}),e.jsxs("p",{className:"text-[var(--nexus-text-secondary)] mt-1",children:["Status: ",e.jsx("span",{className:"uppercase text-xs font-bold",children:s.status})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("h4",{className:"font-bold text-[var(--nexus-text-primary)]",children:"Fibonacco Platform"}),e.jsx("p",{className:"text-sm text-[var(--nexus-text-secondary)]",children:"123 Tech Lane"}),e.jsx("p",{className:"text-sm text-[var(--nexus-text-secondary)]",children:"San Francisco, CA 94105"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8 pb-8 border-b border-[var(--nexus-divider)]",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-[var(--nexus-text-tertiary)] uppercase tracking-wider mb-2",children:"Billed To"}),e.jsx("p",{className:"font-bold text-[var(--nexus-text-primary)]",children:s.customer_name}),e.jsx(a,{variant:"link",className:"px-0 text-[var(--nexus-accent-primary)] h-auto",onClick:()=>d(`/crm/customers/${s.customer_id}`),children:"View Customer Profile"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-[var(--nexus-text-tertiary)] uppercase tracking-wider mb-1",children:"Issue Date"}),e.jsx("p",{className:"font-medium text-[var(--nexus-text-primary)]",children:l(s.issue_date)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-[var(--nexus-text-tertiary)] uppercase tracking-wider mb-1",children:"Due Date"}),e.jsx("p",{className:"font-medium text-[var(--nexus-text-primary)]",children:l(s.due_date)})]})]})]}),e.jsx("div",{children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-[var(--nexus-divider)]",children:[e.jsx("th",{className:"py-3 px-2 text-sm font-semibold text-[var(--nexus-text-secondary)]",children:"Description"}),e.jsx("th",{className:"py-3 px-2 text-sm font-semibold text-[var(--nexus-text-secondary)] text-right",children:"Qty"}),e.jsx("th",{className:"py-3 px-2 text-sm font-semibold text-[var(--nexus-text-secondary)] text-right",children:"Unit Price"}),e.jsx("th",{className:"py-3 px-2 text-sm font-semibold text-[var(--nexus-text-primary)] text-right",children:"Amount"})]})}),e.jsx("tbody",{className:"divide-y divide-[var(--nexus-divider)]",children:s.items.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"py-4 px-2 text-[var(--nexus-text-primary)]",children:t.description}),e.jsx("td",{className:"py-4 px-2 text-[var(--nexus-text-secondary)] text-right",children:t.quantity}),e.jsx("td",{className:"py-4 px-2 text-[var(--nexus-text-secondary)] text-right",children:r(t.unit_price)}),e.jsx("td",{className:"py-4 px-2 font-medium text-[var(--nexus-text-primary)] text-right",children:r(t.amount)})]},t.id))})]})}),e.jsx("div",{className:"flex justify-end mt-8 pt-8 border-t border-[var(--nexus-divider)]",children:e.jsxs("div",{className:"w-64 space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-[var(--nexus-text-secondary)]",children:[e.jsx("span",{children:"Subtotal"}),e.jsx("span",{children:r(s.amount)})]}),e.jsxs("div",{className:"flex justify-between text-[var(--nexus-text-secondary)]",children:[e.jsx("span",{children:"Tax (0%)"}),e.jsx("span",{children:"$0.00"})]}),e.jsxs("div",{className:"flex justify-between pt-4 border-t border-[var(--nexus-divider)]",children:[e.jsx("span",{className:"font-bold text-lg text-[var(--nexus-text-primary)]",children:"Total"}),e.jsx("span",{className:"font-bold text-lg text-[var(--nexus-brand-primary)]",children:r(s.amount)})]})]})})]})}),e.jsx("div",{className:"space-y-6",children:e.jsx(o,{title:"Payment Processing",children:e.jsx("div",{className:"space-y-4 text-center py-4",children:s.status==="paid"?e.jsx("div",{className:"p-4 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 rounded-xl",children:e.jsxs("p",{className:"font-bold flex items-center justify-center gap-2",children:[e.jsx(c,{className:"w-5 h-5"})," Paid in full"]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-[var(--nexus-bg-secondary)] rounded-xl border border-[var(--nexus-card-border)]",children:[e.jsx("p",{className:"text-sm text-[var(--nexus-text-secondary)] mb-2",children:"Remaining Balance"}),e.jsx("p",{className:"text-3xl font-bold text-[var(--nexus-text-primary)]",children:r(s.amount)})]}),e.jsx(a,{className:"w-full bg-[var(--nexus-button-bg)] text-white hover:bg-[var(--nexus-button-hover)] shadow-sm",children:"Capture Payment"}),e.jsx("p",{className:"text-xs text-[var(--nexus-text-tertiary)]",children:"Powered by Stripe"})]})})})})]})]}):e.jsx("div",{children:"Invoice not found"})}export{A as default};
