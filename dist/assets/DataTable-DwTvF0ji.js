import{c as S,r as c,j as e,d as C,L as P}from"./index-BcJ69802.js";import{T as V,a as B,b as f,c as E,d as H,e as y,E as $}from"./dialog-C86vlKxl.js";import{I as q,B as K}from"./input--Twqmmfi.js";import{C as A,a as O}from"./chevron-right-B5h381UR.js";/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],F=S("chevron-down",U);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],J=S("chevron-up",G);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],R=S("search",Q);function W({value:r,onChange:u,placeholder:g="Search...",debounceMs:b=300,className:o}){const[l,p]=c.useState(r);return c.useEffect(()=>{p(r)},[r]),c.useEffect(()=>{const i=setTimeout(()=>{l!==r&&u(l)},b);return()=>clearTimeout(i)},[l,u,b,r]),e.jsxs("div",{className:C("relative",o),children:[e.jsx(R,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--nexus-text-tertiary)]"}),e.jsx(q,{value:l,onChange:i=>p(i.target.value),className:"pl-9 h-10 w-full bg-[var(--nexus-input-bg)] border-[var(--nexus-input-border)] text-[var(--nexus-text-primary)] placeholder:text-[var(--nexus-text-tertiary)] transition-colors focus-visible:ring-[var(--nexus-accent-primary)]",placeholder:g})]})}function ee({columns:r,data:u,isLoading:g,emptyMessage:b="No items found",onRowClick:o,searchable:l,searchPlaceholder:p="Search...",pagination:i,pageSize:d=10,actions:m}){const[j,_]=c.useState(""),[x,N]=c.useState(1),[n,D]=c.useState({key:null,direction:"asc"}),I=s=>{if(!s)return;let a="asc";n.key===s&&n.direction==="asc"&&(a="desc"),D({key:s,direction:a})},v=c.useMemo(()=>{let s=[...u];if(j){const a=j.toLowerCase();s=s.filter(t=>Object.values(t).some(h=>String(h).toLowerCase().includes(a)))}return n.key&&s.sort((a,t)=>{const h=a[n.key],T=t[n.key];if(h===T)return 0;const L=n.direction==="asc"?1:-1;return h<T?-1*L:1*L}),s},[u,j,n]),w=Math.ceil(v.length/d),k=i?v.slice((x-1)*d,x*d):v,M=s=>{_(s),N(1)};return e.jsxs("div",{className:"flex flex-col space-y-4",children:[l&&e.jsx("div",{className:"w-full max-w-sm",children:e.jsx(W,{value:j,onChange:M,placeholder:p})}),e.jsx("div",{className:"rounded-xl border border-[var(--nexus-card-border)] overflow-hidden bg-[var(--nexus-card-bg)] shadow-[var(--nexus-card-shadow)]",children:e.jsxs(V,{children:[e.jsx(B,{className:"bg-[var(--nexus-bg-secondary)]",children:e.jsxs(f,{className:"border-b border-[var(--nexus-divider)] hover:bg-transparent",children:[r.map((s,a)=>e.jsx(E,{className:C("h-12 px-4 text-xs font-semibold text-[var(--nexus-text-tertiary)] uppercase tracking-wider",s.sortable!==!1&&s.accessorKey&&"cursor-pointer select-none hover:text-[var(--nexus-text-primary)] transition-colors"),onClick:()=>s.sortable!==!1?I(s.accessorKey):void 0,children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:s.header}),s.accessorKey&&n.key===s.accessorKey&&e.jsx("span",{className:"text-[var(--nexus-accent-primary)]",children:n.direction==="asc"?e.jsx(J,{className:"w-4 h-4"}):e.jsx(F,{className:"w-4 h-4"})})]})},a)),m&&e.jsx(E,{className:"w-16"})]})}),e.jsx(H,{children:g?e.jsx(f,{className:"hover:bg-transparent",children:e.jsx(y,{colSpan:r.length+(m?1:0),className:"h-24",children:e.jsx(P,{variant:"table",count:d})})}):k.length===0?e.jsx(f,{className:"hover:bg-transparent",children:e.jsx(y,{colSpan:r.length+(m?1:0),className:"h-48",children:e.jsx($,{title:b})})}):k.map((s,a)=>e.jsxs(f,{onClick:()=>o&&o(s),className:C("border-b border-[var(--nexus-divider)] transition-colors",o?"cursor-pointer hover:bg-[var(--nexus-card-bg-hover)]":"hover:bg-[var(--nexus-card-bg-hover)]"),children:[r.map((t,h)=>e.jsx(y,{className:"px-4 py-3 text-sm text-[var(--nexus-text-primary)]",children:t.cell?t.cell(s):t.accessorKey?s[t.accessorKey]:null},h)),m&&e.jsx(y,{onClick:t=>{o&&t.stopPropagation()},children:m(s)})]},a))})]})}),i&&w>1&&e.jsxs("div",{className:"flex items-center justify-between px-2 text-sm text-[var(--nexus-text-tertiary)]",children:[e.jsxs("div",{children:["Showing ",(x-1)*d+1," to"," ",Math.min(x*d,v.length)," of"," ",v.length," entries"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(K,{variant:"outline",size:"sm",onClick:()=>N(s=>Math.max(1,s-1)),disabled:x===1,className:"h-8 w-8 p-0 border-[var(--nexus-card-border)] text-[var(--nexus-text-primary)] hover:bg-[var(--nexus-bg-secondary)]",children:e.jsx(A,{className:"h-4 w-4"})}),e.jsx(K,{variant:"outline",size:"sm",onClick:()=>N(s=>Math.min(w,s+1)),disabled:x===w,className:"h-8 w-8 p-0 border-[var(--nexus-card-border)] text-[var(--nexus-text-primary)] hover:bg-[var(--nexus-bg-secondary)]",children:e.jsx(O,{className:"h-4 w-4"})})]})]})]})}export{ee as D};
